<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Idea Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-bg {
            background: radial-gradient(circle at center, #f3e8ff 0%, #e9d5ff 100%);
        }
    </style>
    
</head>


<body class="gradient-bg min-h-screen flex flex-col">
    <div class="flex justify-between items-center w-full p-4 mb-12">
        <div class="flex items-center gap-2">
            <img src="/img/Dev (1).png" alt="Logo" class="w-8 h-8 rounded-2xl">
            <span class="font-semibold text-gray-700">DevGrowth</span>
        </div>
        <!-- BotÃ³n de CrÃ©ditos -->
        <button id="creditButton" class="bg-purple-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-purple-700 transition-all">
            CrÃ©ditos: <span id="creditCount">3</span>
        </button>
    </div>
   

    <div class="flex flex-col md:flex-row items-center justify-center gap-8 p-8 flex-grow transition-all duration-500 ease-in-out mb-12">
        <!-- Formulario de SelecciÃ³n -->
        <div id="selectionCard" class="bg-white p-6 rounded-lg shadow-md max-w-md transform transition-transform duration-500 ease-in-out">
            <h2 class="text-xl font-bold mb-4 text-gray-900">Find Your Business Idea</h2>
            <form id="businessIdeaForm" class="space-y-4">
                <!-- SelecciÃ³n de Perfil -->
                <div>
                    <label for="profile" class="block text-left text-gray-700 font-medium">Profile</label>
                    <select id="profile" class="w-full px-3 py-2 border rounded-lg">
                        <option value="frontend">Frontend</option>
                        <option value="backend">Backend</option>
                        <option value="data">Data</option>
                    </select>
                </div>

                <!-- SelecciÃ³n de Experiencia -->
                <div>
                    <label for="experience" class="block text-left text-gray-700 font-medium">Experience</label>
                    <select id="experience" class="w-full px-3 py-2 border rounded-lg">
                        <option value="1-3">1-3 years</option>
                        <option value="3-5">3-5 years</option>
                        <option value=">5">More than 5 years</option>
                    </select>
                </div>
                <div>
                    <label for="development" class="block text-left text-gray-700 font-medium">What would you like to develop?</label>
                    <select id="development" class="w-full px-3 py-2 border rounded-lg">
                        <option value="extension">Extension</option>
                        <option value="saas">SaaS</option>
                        <option value="product">Product</option>
                    </select>
                </div>

                <!-- BotÃ³n para obtener ideas -->
                <button type="button" id="getIdeas" class="w-full px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition">Get Ideas</button>
            </form>
        </div>

        <!-- Mostrar Ideas de Negocio -->
        <div id="businessIdeas" class="bg-white p-6 rounded-lg shadow-md max-w-md text-left text-gray-700 transform transition-transform duration-500 ease-in-out scale-95 opacity-0 hidden">
            <h3 class="text-xl font-bold mb-4">Business Ideas</h3>
            <ul id="ideasList" class="list-none pl-0 space-y-4 max-h-64 overflow-y-auto"></ul>
        </div>
    </div>

    <!-- BotÃ³n flotante para abrir el feedback -->
    <button 
        id="openFeedback" 
        class="fixed bottom-4 right-4 bg-purple-600 text-white rounded-full p-4 shadow-lg hover:bg-purple-700 transition-all z-40 flex items-center gap-2"
    >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-4l-4 4z"></path>
        </svg>
        <span>Feedback</span>
    </button>

    <!-- Banner de feedback (inicialmente oculto) -->
    <div id="feedbackCard" class="fixed top-0 left-0 right-0 bg-white shadow-md transform transition-transform duration-500 ease-in-out -translate-y-full z-40">
        <div class="max-w-4xl mx-auto p-4">
            <div class="flex justify-between items-start">
                <div class="flex-grow">
                    <h3 class="text-xl font-bold mb-4 text-gray-900">Â¡AyÃºdanos a mejorar!</h3>
                    
                    <form id="feedbackForm" class="space-y-4">
                        <!-- Rating con estrellas -->
                        <div class="flex items-center gap-4">
                            <label class="text-gray-700 font-medium whitespace-nowrap">Â¿QuÃ© te parecieron las ideas?</label>
                            <div class="flex space-x-2" id="ratingStars">
                                <button type="button" class="text-2xl text-gray-300 hover:text-yellow-500 focus:outline-none transition-colors" data-rating="1">â˜…</button>
                                <button type="button" class="text-2xl text-gray-300 hover:text-yellow-500 focus:outline-none transition-colors" data-rating="2">â˜…</button>
                                <button type="button" class="text-2xl text-gray-300 hover:text-yellow-500 focus:outline-none transition-colors" data-rating="3">â˜…</button>
                                <button type="button" class="text-2xl text-gray-300 hover:text-yellow-500 focus:outline-none transition-colors" data-rating="4">â˜…</button>
                                <button type="button" class="text-2xl text-gray-300 hover:text-yellow-500 focus:outline-none transition-colors" data-rating="5">â˜…</button>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <!-- Comentarios -->
                            <div class="flex-grow">
                                <label for="feedbackComment" class="block text-gray-700 font-medium mb-2">Â¿Tienes alguna sugerencia?</label>
                                <textarea 
                                    id="feedbackComment" 
                                    rows="2" 
                                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="Comparte tus ideas o sugerencias..."></textarea>
                            </div>

                            <!-- Email (opcional) -->
                            <div class="w-1/3">
                                <label for="feedbackEmail" class="block text-gray-700 font-medium mb-2">
                                    Email (opcional)
                                    <span class="text-sm text-gray-500 font-normal block">Para notificarte cuando implementemos tu sugerencia</span>
                                </label>
                                <input 
                                    type="email" 
                                    id="feedbackEmail" 
                                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="tu@email.com">
                            </div>
                        </div>

                        <!-- BotÃ³n de envÃ­o -->
                        <button 
                            type="submit" 
                            class="px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition">
                            Enviar Feedback
                        </button>
                    </form>
                </div>
                
                <!-- BotÃ³n para cerrar -->
                <button 
                    id="closeFeedback" 
                    class="text-gray-500 hover:text-gray-700 focus:outline-none"
                    aria-label="Cerrar feedback">
                    Ã—
                </button>
            </div>
        </div>
    </div>

    <!-- Modal con animaciones -->
    <div id="ideaModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="bg-white p-6 rounded-lg max-w-2xl mx-auto mt-20">
            <div class="relative">
                <h3 id="modalTitle" class="text-2xl font-bold mb-4 pr-8"></h3>
                <button 
                    id="closeModal" 
                    class="absolute top-0 right-0 text-gray-400 hover:text-gray-600 text-2xl font-bold"
                    aria-label="Cerrar modal"
                >
                    Ã—
                </button>
            </div>
            
            <p id="modalContent" class="text-gray-600 mb-4"></p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <h4 class="font-semibold mb-2">Problema</h4>
                    <p id="modalProblem" class="text-gray-600"></p>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">MonetizaciÃ³n</h4>
                    <div id="modalMonetization" class="text-gray-600"></div>
                </div>
            </div>
            <div class="mt-4">
                <h4 class="font-semibold mb-2">Preguntas</h4>
                <ul id="modalQuestions" class="list-disc pl-5 text-gray-600"></ul>
            </div>
        </div>
    </div>

    <script>
        const ideaTemplates = {
            "frontend": [
                {
                    "category": "extension",
                    "products": [
                        {
                            "base": "{type} Developer Tool",
                            "types": ["Color Picker", "CSS Generator", "Responsive Tester", "Performance", "A11y", "Code Formatter"],
                            "details": "Herramienta esencial para desarrollo {type}",
                            "monetization": [
                                { "plan": "Free", "price": "Gratis", "limit": "Funciones bÃ¡sicas" },
                                { "plan": "Pro", "price": "$4.99/mes", "limit": "Funciones avanzadas" },
                                { "plan": "Team", "price": "$3.99/usuario/mes", "limit": "ColaboraciÃ³n" }
                            ],
                            "problem": "Desarrolladores necesitan herramientas especializadas para agilizar su trabajo diario",
                            "questions": [
                                "Â¿QuÃ© herramientas similares usas actualmente?",
                                "Â¿CuÃ¡nto tiempo dedicas a estas tareas?",
                                "Â¿QuÃ© caracterÃ­sticas te faltan en tus herramientas actuales?",
                                "Â¿Trabajas en equipo o solo?",
                                "Â¿CuÃ¡nto pagarÃ­as por una herramienta que te ahorre tiempo?"
                            ]
                        },
                        {
                            "base": "{type} Inspector",
                            "types": ["Architecture", "Bundle Size", "Security", "Performance", "Code Quality"],
                            "details": "Inspector avanzado de {type} para desarrollo web",
                            "monetization": [
                                { "plan": "Basic", "price": "Gratis", "limit": "3 proyectos" },
                                { "plan": "Pro", "price": "$9.99/mes", "limit": "Proyectos ilimitados" },
                                { "plan": "Enterprise", "price": "$49.99/mes", "limit": "CaracterÃ­sticas avanzadas" }
                            ],
                            "problem": "Equipos necesitan analizar y optimizar su cÃ³digo frontend",
                            "questions": [
                                "Â¿CÃ³mo inspeccionas tu cÃ³digo actualmente?",
                                "Â¿QuÃ© mÃ©tricas son importantes para ti?",
                                "Â¿QuÃ© problemas son difÃ­ciles de detectar?",
                                "Â¿CÃ³mo manejas la calidad del cÃ³digo en equipo?",
                                "Â¿QuÃ© herramientas de anÃ¡lisis usas?"
                            ]
                        }
                    ]
                },
                {
                    "category": "saas",
                    "products": [
                        {
                            "base": "{type} Builder Platform",
                            "types": ["Template", "Landing Page", "Portfolio", "Component", "Design System"],
                            "details": "Plataforma para crear {type} profesionales",
                            "monetization": [
                                { "plan": "Starter", "price": "$29/mes", "limit": "5 proyectos" },
                                { "plan": "Professional", "price": "$79/mes", "limit": "20 proyectos" },
                                { "plan": "Agency", "price": "$199/mes", "limit": "Proyectos ilimitados" }
                            ],
                            "problem": "Crear y mantener recursos frontend requiere mucho tiempo y experiencia",
                            "questions": [
                                "Â¿CÃ³mo creas estos recursos actualmente?",
                                "Â¿CuÃ¡nto tiempo inviertes en cada proyecto?",
                                "Â¿QuÃ© frustraciones tienes con el proceso actual?",
                                "Â¿Trabajas con diseÃ±adores?",
                                "Â¿QuÃ© caracterÃ­sticas te harÃ­an la vida mÃ¡s fÃ¡cil?"
                            ]
                        },
                        {
                            "base": "{type} Management System",
                            "types": ["Component", "Design Token", "Documentation", "Testing", "Deployment"],
                            "details": "Sistema de gestiÃ³n {type} para equipos frontend",
                            "monetization": [
                                { "plan": "Team", "price": "$99/mes", "limit": "10 usuarios" },
                                { "plan": "Business", "price": "$249/mes", "limit": "50 usuarios" },
                                { "plan": "Enterprise", "price": "Personalizado", "limit": "CaracterÃ­sticas personalizadas" }
                            ],
                            "problem": "Equipos necesitan centralizar y gestionar recursos frontend",
                            "questions": [
                                "Â¿CÃ³mo gestionas estos recursos ahora?",
                                "Â¿CuÃ¡ntas personas trabajan en tu equipo?",
                                "Â¿QuÃ© problemas de colaboraciÃ³n enfrentas?",
                                "Â¿CÃ³mo manejas las versiones?",
                                "Â¿QuÃ© procesos te gustarÃ­a automatizar?"
                            ]
                        }
                    ]
                },
                {
                    "category": "product",
                    "products": [
                        {
                            "base": "{type} Enterprise Solution",
                            "types": ["Design System", "Component Library", "Frontend Platform", "CI/CD", "Monitoring"],
                            "details": "SoluciÃ³n empresarial {type} completa",
                            "monetization": [
                                { "plan": "Licencia", "price": "$15,000/aÃ±o", "limit": "1 equipo" },
                                { "plan": "Enterprise", "price": "$45,000/aÃ±o", "limit": "MÃºltiples equipos" },
                                { "plan": "Global", "price": "Personalizado", "limit": "OrganizaciÃ³n completa" }
                            ],
                            "problem": "Empresas necesitan soluciones frontend escalables y mantenibles",
                            "questions": [
                                "Â¿QuÃ© soluciones usas actualmente?",
                                "Â¿CuÃ¡ntos desarrolladores tienen?",
                                "Â¿QuÃ© desafÃ­os de escalabilidad enfrentas?",
                                "Â¿CÃ³mo manejas la consistencia?",
                                "Â¿QuÃ© costos tienes actualmente?"
                            ]
                        }
                    ]
                }
            ],
            "backend": [
                {
                    "category": "extension",
                    "products": [
                        {
                            "base": "{type} Development Assistant",
                            "types": ["API", "Database", "Log", "Performance", "Security"],
                            "details": "Asistente de desarrollo {type} para backend",
                            "monetization": [
                                { "plan": "Free", "price": "Gratis", "limit": "Uso bÃ¡sico" },
                                { "plan": "Pro", "price": "$7.99/mes", "limit": "Uso ilimitado" },
                                { "plan": "Team", "price": "$5.99/usuario/mes", "limit": "ColaboraciÃ³n" }
                            ],
                            "problem": "Desarrolladores backend necesitan herramientas para debugging y testing",
                            "questions": [
                                "Â¿QuÃ© herramientas de desarrollo usas?",
                                "Â¿CuÃ¡nto tiempo dedicas a testing?",
                                "Â¿QuÃ© problemas son difÃ­ciles de debuggear?",
                                "Â¿CÃ³mo monitorizas el rendimiento?",
                                "Â¿QuÃ© caracterÃ­sticas te faltan en tus herramientas?"
                            ]
                        },
                        {
                            "base": "{type} System Monitor",
                            "types": ["Resource", "Health", "Architecture", "Security", "Quality"],
                            "details": "Monitor de sistema {type} para backend",
                            "monetization": [
                                { "plan": "Basic", "price": "$19.99/mes", "limit": "5 servicios" },
                                { "plan": "Pro", "price": "$49.99/mes", "limit": "20 servicios" },
                                { "plan": "Enterprise", "price": "$199.99/mes", "limit": "Ilimitado" }
                            ],
                            "problem": "Equipos necesitan monitorizar y mantener sistemas backend",
                            "questions": [
                                "Â¿CÃ³mo monitorizas tus sistemas?",
                                "Â¿QuÃ© mÃ©tricas son crÃ­ticas?",
                                "Â¿CÃ³mo manejas los incidentes?",
                                "Â¿QuÃ© alertas necesitas?",
                                "Â¿CuÃ¡nto tiempo dedicas al mantenimiento?"
                            ]
                        }
                    ]
                },
                {
                    "category": "saas",
                    "products": [
                        {
                            "base": "{type} Management Platform",
                            "types": ["API", "Serverless", "Microservice", "Database", "Cache"],
                            "details": "Plataforma de gestiÃ³n {type} para backend",
                            "monetization": [
                                { "plan": "Startup", "price": "$99/mes", "limit": "100k requests" },
                                { "plan": "Business", "price": "$299/mes", "limit": "1M requests" },
                                { "plan": "Enterprise", "price": "Custom", "limit": "Personalizado" }
                            ],
                            "problem": "Empresas necesitan gestionar servicios backend eficientemente",
                            "questions": [
                                "Â¿CÃ³mo gestionas tus servicios?",
                                "Â¿QuÃ© volumen de requests manejas?",
                                "Â¿QuÃ© problemas de escalabilidad tienes?",
                                "Â¿CÃ³mo manejas los despliegues?",
                                "Â¿QuÃ© costos de infraestructura tienes?"
                            ]
                        },
                        {
                            "base": "{type} Integration Service",
                            "types": ["Message Queue", "Service Mesh", "API Gateway", "Load Balancer", "Service Discovery"],
                            "details": "Servicio de integraciÃ³n {type} para backend",
                            "monetization": [
                                { "plan": "Basic", "price": "$199/mes", "limit": "5 servicios" },
                                { "plan": "Pro", "price": "$499/mes", "limit": "20 servicios" },
                                { "plan": "Enterprise", "price": "Custom", "limit": "Ilimitado" }
                            ],
                            "problem": "Integrar y coordinar servicios backend es complejo",
                            "questions": [
                                "Â¿CÃ³mo integras tus servicios?",
                                "Â¿QuÃ© problemas de comunicaciÃ³n tienes?",
                                "Â¿CÃ³mo manejas la latencia?",
                                "Â¿QuÃ© patrones de integraciÃ³n usas?",
                                "Â¿CÃ³mo aseguras la fiabilidad?"
                            ]
                        }
                    ]
                },
                {
                    "category": "product",
                    "products": [
                        {
                            "base": "{type} Enterprise Platform",
                            "types": ["Multi-Cloud", "Container Orchestration", "Distributed System", "Integration", "Monitoring"],
                            "details": "Plataforma empresarial {type} para backend",
                            "monetization": [
                                { "plan": "Department", "price": "$25,000/aÃ±o", "limit": "1 departamento" },
                                { "plan": "Division", "price": "$75,000/aÃ±o", "limit": "MÃºltiples departamentos" },
                                { "plan": "Enterprise", "price": "Custom", "limit": "OrganizaciÃ³n completa" }
                            ],
                            "problem": "Empresas necesitan plataformas backend robustas y escalables",
                            "questions": [
                                "Â¿QuÃ© plataformas usas actualmente?",
                                "Â¿CuÃ¡ntos servicios gestionas?",
                                "Â¿QuÃ© desafÃ­os de escalabilidad tienes?",
                                "Â¿CÃ³mo manejas el multi-cloud?",
                                "Â¿QuÃ© costos de infraestructura tienes?"
                            ]
                        }
                    ]
                }
            ],
            "data": [
                {
                    "category": "extension",
                    "products": [
                        {
                            "base": "{type} Data Tool",
                            "types": ["Cleaning", "Visualization", "ETL", "Quality", "Profiling"],
                            "details": "Herramienta {type} para datos",
                            "monetization": [
                                { "plan": "Free", "price": "Gratis", "limit": "1000 filas/mes" },
                                { "plan": "Pro", "price": "$9.99/mes", "limit": "Ilimitado" },
                                { "plan": "Team", "price": "$7.99/usuario/mes", "limit": "ColaboraciÃ³n" }
                            ],
                            "problem": "Analistas necesitan herramientas eficientes para trabajar con datos",
                            "questions": [
                                "Â¿QuÃ© herramientas de datos usas?",
                                "Â¿CuÃ¡nto tiempo dedicas a limpiar datos?",
                                "Â¿QuÃ© problemas son recurrentes?",
                                "Â¿CÃ³mo visualizas los datos?",
                                "Â¿QuÃ© automatizaciones necesitas?"
                            ]
                        },
                        {
                            "base": "{type} Data Explorer",
                            "types": ["SQL", "NoSQL", "Graph", "Time-series", "Document"],
                            "details": "Explorador de datos {type} avanzado",
                            "monetization": [
                                { "plan": "Basic", "price": "$14.99/mes", "limit": "3 conexiones" },
                                { "plan": "Pro", "price": "$39.99/mes", "limit": "10 conexiones" },
                                { "plan": "Enterprise", "price": "$199.99/mes", "limit": "Ilimitado" }
                            ],
                            "problem": "Equipos necesitan explorar y analizar datos eficientemente",
                            "questions": [
                                "Â¿CÃ³mo exploras datos actualmente?",
                                "Â¿QuÃ© tipos de bases de datos usas?",
                                "Â¿QuÃ© anÃ¡lisis son complejos?",
                                "Â¿CÃ³mo compartes los hallazgos?",
                                "Â¿QuÃ© visualizaciones necesitas?"
                            ]
                        }
                    ]
                },
                {
                    "category": "saas",
                    "products": [
                        {
                            "base": "{type} Analytics Platform",
                            "types": ["Predictive", "Real-time", "Big Data", "ML", "BI"],
                            "details": "Plataforma de anÃ¡lisis {type}",
                            "monetization": [
                                { "plan": "Startup", "price": "$199/mes", "limit": "100k eventos" },
                                { "plan": "Growth", "price": "$499/mes", "limit": "1M eventos" },
                                { "plan": "Enterprise", "price": "Custom", "limit": "Personalizado" }
                            ],
                            "problem": "Empresas necesitan analizar grandes volÃºmenes de datos",
                            "questions": [
                                "Â¿CÃ³mo analizas datos actualmente?",
                                "Â¿QuÃ© volumen de datos manejas?",
                                "Â¿QuÃ© insights son valiosos?",
                                "Â¿CÃ³mo usas ML/AI?",
                                "Â¿QuÃ© decisiones tomas con datos?"
                            ]
                        },
                        {
                            "base": "{type} Data Platform",
                            "types": ["Lake", "Warehouse", "Pipeline", "Governance", "Quality"],
                            "details": "Plataforma de datos {type} empresarial",
                            "monetization": [
                                { "plan": "Team", "price": "$999/mes", "limit": "500GB" },
                                { "plan": "Business", "price": "$2,499/mes", "limit": "5TB" },
                                { "plan": "Enterprise", "price": "Custom", "limit": "Ilimitado" }
                            ],
                            "problem": "Organizaciones necesitan gestionar datos a escala",
                            "questions": [
                                "Â¿CÃ³mo almacenas tus datos?",
                                "Â¿QuÃ© fuentes de datos tienes?",
                                "Â¿CÃ³mo aseguras la calidad?",
                                "Â¿QuÃ© problemas de integraciÃ³n tienes?",
                                "Â¿CÃ³mo manejas el gobierno de datos?"
                            ]
                        }
                    ]
                },
                {
                    "category": "product",
                    "products": [
                        {
                            "base": "{type} Enterprise Solution",
                            "types": ["Data Science", "ML Ops", "Data Ops", "Analytics", "AI"],
                            "details": "SoluciÃ³n empresarial {type} completa",
                            "monetization": [
                                { "plan": "Department", "price": "$50,000/aÃ±o", "limit": "1 departamento" },
                                { "plan": "Division", "price": "$150,000/aÃ±o", "limit": "MÃºltiples departamentos" },
                                { "plan": "Enterprise", "price": "Custom", "limit": "OrganizaciÃ³n completa" }
                            ],
                            "problem": "Empresas necesitan soluciones de datos end-to-end",
                            "questions": [
                                "Â¿QuÃ© soluciones de datos usas?",
                                "Â¿CÃ³mo implementas ML/AI?",
                                "Â¿QuÃ© desafÃ­os de datos tienes?",
                                "Â¿CÃ³mo mides el ROI?",
                                "Â¿QuÃ© capacidades necesitas?"
                            ]
                        }
                    ]
                }
            ]
        };

        document.getElementById('getIdeas').addEventListener('click', async function() {
            const profile = document.getElementById('profile').value;
            const experience = document.getElementById('experience').value;
            const development = document.getElementById('development').value;
            const ideasList = document.getElementById('ideasList');
            const businessIdeas = document.getElementById('businessIdeas');
            const selectionCard = document.getElementById('selectionCard');

            // Primero, resetear el estado anterior
            businessIdeas.classList.add('scale-95', 'opacity-0');
            selectionCard.classList.remove('translate-x-[-20%]');
            
            // Esperar a que termine la animaciÃ³n de ocultamiento
            await new Promise(resolve => setTimeout(resolve, 300));
            
            // Limpiar la lista anterior
            ideasList.innerHTML = '';
            
            // Generar nuevas ideas
            const numberOfIdeas = 4;
            for (let i = 0; i < numberOfIdeas; i++) {
                const idea = generateIdea(profile, experience, development);
                
                if (idea) {
                    const li = document.createElement('li');
                    li.classList.add(
                        'bg-white', 'p-4', 'rounded-lg', 'shadow-md', 
                        'hover:shadow-lg', 'transition', 'cursor-pointer', 'mb-4'
                    );

                    // Crear el header con el tÃ­tulo y las estrellas
                    const header = document.createElement('div');
                    header.classList.add('flex', 'justify-between', 'items-center', 'mb-2');

                    // TÃ­tulo
                    const title = document.createElement('h4');
                    title.classList.add('text-lg', 'font-bold', 'text-gray-900');
                    title.textContent = idea.text;

                    // Estrellas
                    const starsContainer = document.createElement('div');
                    starsContainer.classList.add('flex', 'items-center');
                    for (let j = 0; j < 5; j++) {
                        const star = document.createElement('span');
                        star.classList.add(j < idea.stars ? 'text-yellow-500' : 'text-gray-300');
                        star.textContent = 'â˜…';
                        starsContainer.appendChild(star);
                    }

                    header.appendChild(title);
                    header.appendChild(starsContainer);

                    // DescripciÃ³n breve
                    const description = document.createElement('p');
                    description.classList.add('text-sm', 'text-gray-600');
                    description.textContent = idea.details;

                    li.appendChild(header);
                    li.appendChild(description);
                    ideasList.appendChild(li);

                    // Agregar evento click para mostrar mÃ¡s detalles
                    li.addEventListener('click', () => showIdeaDetails(idea));
                }
            }

            // Si no hay ideas, mostrar mensaje
            if (ideasList.children.length === 0) {
                const li = document.createElement('li');
                li.classList.add('text-gray-600', 'text-center', 'py-4');
                li.textContent = 'No se encontraron ideas para esta combinaciÃ³n. Â¡Intenta con otros filtros!';
                ideasList.appendChild(li);
            }

            // Mostrar las nuevas ideas con animaciÃ³n
            businessIdeas.classList.remove('hidden');
            // Usar setTimeout para asegurar que la transiciÃ³n funcione
            setTimeout(() => {
                businessIdeas.classList.remove('scale-95', 'opacity-0');
                selectionCard.classList.add('translate-x-[-20%]');
            }, 50);
        });

        // Nuevo manejador para el botÃ³n de feedback
        document.getElementById('openFeedback').addEventListener('click', function() {
            const feedbackCard = document.getElementById('feedbackCard');
            feedbackCard.classList.remove('-translate-y-full');
        });

        // Mantener el resto de la lÃ³gica del feedback
        document.getElementById('closeFeedback').addEventListener('click', function() {
            const feedbackCard = document.getElementById('feedbackCard');
            feedbackCard.classList.add('-translate-y-full');
        });

        // Manejar el rating con estrellas
        document.getElementById('ratingStars').addEventListener('click', function(e) {
            if (e.target.tagName === 'BUTTON') {
                const rating = e.target.dataset.rating;
                const stars = this.getElementsByTagName('button');
                
                // Resetear todas las estrellas
                Array.from(stars).forEach(star => {
                    star.classList.remove('text-yellow-500');
                    star.classList.add('text-gray-300');
                });
                
                // Colorear hasta la estrella seleccionada
                for (let i = 0; i < rating; i++) {
                    stars[i].classList.remove('text-gray-300');
                    stars[i].classList.add('text-yellow-500');
                }
            }
        });

        // Manejar el envÃ­o del feedback
        document.getElementById('feedbackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const feedbackContent = this.innerHTML;
            this.innerHTML = `
                <div class="flex items-center justify-center py-4 gap-4">
                    <div class="text-4xl">ðŸŽ‰</div>
                    <div>
                        <h4 class="text-xl font-bold text-gray-900">Â¡Gracias por tu feedback!</h4>
                        <p class="text-gray-600">Tus comentarios nos ayudan a mejorar.</p>
                    </div>
                </div>
            `;
            
            // Cerrar automÃ¡ticamente despuÃ©s de 3 segundos
            setTimeout(() => {
                document.getElementById('feedbackCard').classList.add('-translate-y-full');
                // Restaurar el formulario despuÃ©s de que se oculte
                setTimeout(() => {
                    this.innerHTML = feedbackContent;
                }, 500);
            }, 3000);
        });

        // Modificar la funciÃ³n de mostrar el modal para incluir las animaciones
        function showIdeaDetails(idea) {
            if (!idea) return;

            const modal = document.getElementById('ideaModal');
            if (!modal) return;

            // Verificar que todos los elementos existen antes de actualizarlos
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            const modalProblem = document.getElementById('modalProblem');
            const modalMonetization = document.getElementById('modalMonetization');
            const modalQuestions = document.getElementById('modalQuestions');

            if (!modalTitle || !modalContent || !modalProblem || !modalMonetization || !modalQuestions) {
                console.error('Elementos del modal no encontrados');
                return;
            }

            try {
                // Actualizar contenido
                modalTitle.textContent = idea.text || '';
                modalContent.textContent = idea.details || '';
                modalProblem.textContent = idea.problem || '';
                
                // Actualizar monetizaciÃ³n
                if (Array.isArray(idea.monetization)) {
                    modalMonetization.innerHTML = idea.monetization
                        .filter(item => item) // Filtrar items nulos
                        .join('<br>');
                } else {
                    modalMonetization.textContent = idea.monetization || '';
                }
                
                // Actualizar preguntas
                if (Array.isArray(idea.questions)) {
                    modalQuestions.innerHTML = idea.questions
                        .filter(q => q) // Filtrar preguntas nulas
                        .map(q => `<li class="mb-2">${q}</li>`)
                        .join('');
                } else {
                    modalQuestions.innerHTML = '';
                }

                // Mostrar modal
                modal.classList.remove('hidden', 'opacity-0');
            } catch (error) {
                console.error('Error al mostrar los detalles:', error);
            }
        }

        // Modificar el cierre del modal para incluir las animaciones
        function closeModal() {
            const modal = document.getElementById('ideaModal');
            const modalContent = document.querySelector('div');
            
            // Animar el cierre
            modal.classList.add('opacity-0');
            modalContent.classList.add('scale-95', 'translate-y-4');
            
            // Ocultar despuÃ©s de la animaciÃ³n
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // Actualizar los event listeners para usar la nueva funciÃ³n de cierre
        document.getElementById('closeModal').addEventListener('click', closeModal);

        document.getElementById('ideaModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Agregar listener para el cambio de selecciÃ³n
        document.getElementById('profile').addEventListener('change', cleanupModal);
        document.getElementById('experience').addEventListener('change', cleanupModal);
        document.getElementById('development').addEventListener('change', cleanupModal);

        function cleanupModal() {
            const modal = document.getElementById('ideaModal');
            if (modal) {
                modal.classList.add('hidden', 'opacity-0');
            }
        }

        function generateIdea(profile, experience, development) {
            try {
                // Obtener las ideas correspondientes al perfil
                const profileIdeas = ideaTemplates[profile];
                if (!profileIdeas || !profileIdeas.length) return null;

                // Encontrar la categorÃ­a correcta
                const category = profileIdeas.find(cat => cat.category === development);
                if (!category?.products?.length) return null;

                // Seleccionar un producto aleatorio
                const randomProduct = category.products[Math.floor(Math.random() * category.products.length)];
                if (!randomProduct) return null;

                // Seleccionar un tipo aleatorio
                const randomType = randomProduct.types[Math.floor(Math.random() * randomProduct.types.length)];

                // Crear la idea con datos mÃ­nimos necesarios
                return {
                    text: randomProduct.base.replace('{type}', randomType),
                    details: randomProduct.details.replace('{type}', randomType),
                    stars: Math.floor(Math.random() * 2) + 4,
                    monetization: randomProduct.monetization
                        .slice(0, 3) // Limitar a 3 planes
                        .map(m => `${m.plan}: ${m.price}${m.limit ? ` (${m.limit})` : ''}`),
                    problem: randomProduct.problem,
                    questions: randomProduct.questions.slice(0, 5) // Limitar a 5 preguntas
                };
            } catch (error) {
                console.error('Error generando idea:', error);
                return null;
            }
        }

        // Asegurarse de que el modal existe en el HTML
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar que el modal y sus elementos existen
            const requiredElements = [
                'ideaModal',
                'modalTitle',
                'modalContent',
                'modalProblem',
                'modalMonetization',
                'modalQuestions'
            ];

            const missingElements = requiredElements.filter(id => !document.getElementById(id));
            
            if (missingElements.length > 0) {
                console.error('Elementos faltantes:', missingElements);
            }
        });

        // FunciÃ³n para actualizar los crÃ©ditos
        function updateCredits(newCredits) {
            document.getElementById('creditCount').textContent = newCredits;
        }

        // Ejemplo de uso: actualizar crÃ©ditos a 6
        // updateCredits(6);
    </script>
</body>
</html>
